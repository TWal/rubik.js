<!DOCTYPE html>
<html>
    <head>
        <title>rubik.js</title>
        <meta charset="utf-8" />
        <script type="text/javascript" src="release/RubikjsRenderCore.js"></script>
        <script type="text/javascript" src="release/RubikjsWebGL.js"></script>
        <script type="text/javascript" src="release/RubikjsCanvas.js"></script>
        <script type="text/javascript" src="release/RubikjsTwisty.js"></script>
        <script type="text/javascript" src="release/RubikjsNotation.js"></script>
        <script type="text/javascript" src="Puzzles/ClassicRubiksCube.js"></script>

    </head>
    <body>
        <canvas id="cube" width="500" height="500"></canvas>
        <p id="log"></p>
        <script>
            var rendermgr = new Rubikjs.Render.RenderManager(Rubikjs.Render.WebGL.Renderer);
            var cube = new Rubikjs.Puzzle.ClassicRubiksCube(rendermgr);

            function restart() {
                rendermgr = new Rubikjs.Render.RenderManager(Rubikjs.Render.WebGL.Renderer);
                cube = new Rubikjs.Puzzle.ClassicRubiksCube(rendermgr);
            }

            var algorithms = {
                "PLL T": "R U R' U' R' F R2 U' R' U' R U R' F'",
                "Center Swap": "M2' E M2' E'",
                "PLL H": "M2' U M2' U2 M2' U M2'",
                "Superflip": "M' U M' U M' U M' U X' Z M' U M' U M' U M' U X' Z M' U M' U M' U M' U X' Z"
            };

            function domoves() {
                cube.sendMultipleInstructions(cube.notation.parse(document.getElementById("algorithm").value));
            }

            function replaceAlg(alg) {
                document.getElementById("algorithm").value = algorithms[alg];
            }
        </script>
        <form>
            <input type="text" size="150" id="algorithm" value="R U R' U' R' F R2 U' R' U' R U R' F'" /><br />
            <input type="button" value="Let's turn!" onclick="domoves()" />
            <input type="button" value="Reset" onclick="restart()" />
        </form>
        <br />
        <input type="button" value="I want a PLL T" onclick="replaceAlg('PLL T')" />
        <input type="button" value="I want a PLL H" onclick="replaceAlg('PLL H')" />
        <input type="button" value="I want a center swap" onclick="replaceAlg('Center Swap')" />
        <input type="button" value="I want a superflip" onclick="replaceAlg('Superflip')" />
    </body>
</html>

