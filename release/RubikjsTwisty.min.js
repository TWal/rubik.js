//License: https://github.com/TWal/rubik.js/blob/master/LICENSE

Rubikjs.Twisty.FixedPiecePlace=function(){this.pieces=[];this.groups=[];this.turnDegree=90;this.ready=!0};Rubikjs.Twisty.FixedPiecePlace.Group=function(a){this.twisty=a;this.pieces=[];this.rotationAxis=[0,1,0];this.rotationCenter=[0,0,0]};Rubikjs.Twisty.FixedPiecePlace.Group.prototype.cycle=function(a){for(var b=0;b<this.pieces.length;++b)for(var f=this.pieces[b].map(function(a){return a.movable}),d=this.pieces[b].length,c=a%d+d,e=0;e<d;++e)this.pieces[b][e].movable=f[(e+c)%d]};
Rubikjs.Twisty.FixedPiecePlace.Group.prototype.makeTurn=function(a,b,f){a=-a;this.twisty.ready=!1;var d=this.twisty.turnDegree*Math.PI/180*a/(b/f),c=this,e=mat4.rotate(mat4.identity(),d,c.rotationAxis),g=0,h=function(){g*f<b?(c.pieces.forEach(function(a){a.forEach(function(a){mat4.multiply(e,a.movable.mesh.transform,a.movable.mesh.transform)})}),c.twisty.rendermgr.render(),g+=1,setTimeout(h,1E3*f)):(c.twisty.ready=!0,c.cycle(a))};h()};
